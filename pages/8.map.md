# Data structure: map

<img src="/capabilities.png" width=500 class="border rounded m-auto"/>

<v-clicks>

What schema to use?

Is it a `Record<string, boolean>`?

We need an `id` and a `label`. So: `Record<string,[string, boolean]>`?

Or `Record<{id: string, label: string}, boolean>` ?

ðŸ“¢ **Beg**: have you heard of `Schema.HashMap` ?

</v-clicks>

<!--
Comment faire quand on veut modÃ©liser une liste dynamique d'input similaires avec un label qui change?

[click] PremiÃ¨re question Ã  se poser: quel schema utiliser?

[click] Peut-etre un Record label -> boolean?

[click] On a besoin de l'id Ã©galement pour envoyer tout Ã§a au backend. Donc un Record id -> tuple label boolean?

[click] Ou bien un Record objet -> boolean? Mais Ã§a c'est pas top

[click] Et Beg encore qui nous parle de Schema HashMap

Tout Ã§a pour dire que ya plusieurs moyen de faire et qu'il faut s'accorder sur un et s'y tenir.
-->

---

# Data structure: map

````md magic-move
```tsx
const capability = Schema.Struct({
  id: Schema.String,
  label: Schema.String
})

const definition = FormBody.struct({
  capabilities: FormBody.map({
    key: capability,
    field: YesNoSwitch.Required,
  }),
});

```


```tsx
function Capability() {
  const { label } = display.capabilities.Element.useKey();
  return <display.capabilities.Element label={label} />
}

export default function Form() {
  return (
    <display.Form>
      <display.capabilities>
        <display.capabilities.Fields>
          <Capability />
        </display.capabilities.Fields>
      </display.capabilities>
      <display.Submit />
    </display.Form>
  );
}

```

````

<v-clicks at="2">

Under the hood, `FormBody.map` uses `Schema.HashMap`

</v-clicks>

<!--
Avec `@inato-form` on peut utiliser la mÃ©thode `map` pour construire une collection de clÃ© valeur. 

La clÃ© est un schema, arbitraire. 

La valeur est quelque chose que l'on veut display. Ici c'est un YesNoSwitch

[click] Son utilisation est similaire Ã  une array. 

Ã€ noter que l'on peut accÃ©der Ã  la clÃ© de l'Ã©lÃ©ment courant via le hook `useKey`, ce qui permet d'extraire le label et de le display correctement.

[click] Effectivement, on utilise un Schema.HashMap pour la partie data et validation.
-->
